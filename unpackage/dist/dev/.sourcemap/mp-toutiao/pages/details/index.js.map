{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/安杰/Documents/HBuilderProjects/nianmao-tiktok/pages/details/index.vue?0397","webpack:///C:/Users/安杰/Documents/HBuilderProjects/nianmao-tiktok/pages/details/index.vue?0db3","webpack:///C:/Users/安杰/Documents/HBuilderProjects/nianmao-tiktok/pages/details/index.vue?bf99","webpack:///C:/Users/安杰/Documents/HBuilderProjects/nianmao-tiktok/pages/details/index.vue?5610","uni-app:///pages/details/index.vue","webpack:///C:/Users/安杰/Documents/HBuilderProjects/nianmao-tiktok/pages/details/index.vue?1c7a","webpack:///C:/Users/安杰/Documents/HBuilderProjects/nianmao-tiktok/pages/details/index.vue?d79c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","is_material","is_modal","content","id","txt","colModel","mainList","photoList","boxActive","infoListMes","photoMes","resultList","txtChange","productShow","onLoad","console","lists","onUnload","uni","methods","produck","url","getCreateFaceTask","ProjectId","ModelId","image","title","JobId","setTimeout","clearInterval","getResult","getStatus","saveVideo","success","filePath","fail","shoot","count","sourceType","Image","res","selectPhoto","item","val","collectModal","chooseBanner"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,yNAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAmqB,CAAgB,iqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;AC8DvrB;AAOA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAIA;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MACAC;MAAA;MACAC;MAAA;MACAC,YACA,gCACA;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACA;MACA;MACAC;IACA;IACA;MACA;MACAA;MACAC;QACA;MACA;IACA;IACA;MACA;IACA;IACAD;IACA;EACA;EACAE;IACA;IACAC;EACA;;EACAC;IACA;IACAC;MAAA;MACA;QACA;QACA;MACA;QACA;QACA;UACA;UACA;UACA;YACA;cACA;cACA;cACAL;cACA;cACA;YACA;UACA;YACA;UACA;QACA;UACAA;UACA;UACAG;YACAG;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;QACAC;QACAC;MACA;QACAV;QACA;QACA;UACA;UACAG;YACAQ;UACA;QACA;UACA;YACAC;UACA;YACA;YACA;cACA;gBACAC;kBACA;gBACA;cACA;YACA;cACA;cACAC;cACAX;gBACAQ;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAI;MAAA;MACA;QACAH;MACA;QACAZ;QACA;UACAc;UACA;UACA;UACAd;QACA;MACA;IACA;IACA;IACAgB;MAAA;MACA;QACA5B;MACA;QACA;MACA;IACA;IACA;IACA6B;MAAA;MACA;MACA;MAEAd;QACAG;QACAY;UACA;YACAf;cACAgB;cACAD;gBACA;gBACAf;kBACAQ;gBACA;cACA;cACAS;gBACA;gBACAjB;kBACAQ;gBACA;cACA;YACA;UACA;QACA;MACA;IAEA;IACA;IACAU;MAAA;MACAlB;QACAmB;QACAC;QACAL;UACA;YACA;cACA;cACA;cACA;gBACAM;cACA;gBACA;kBACA;kBACAC;oBACA;kBACA;gBACA;kBACA;kBACAtB;oBACAQ;kBACA;gBACA;cACA;YACA;UACA;YACA;YACAR;cACAQ;YACA;UACA;QACA;MACA;IACA;IACA;IACAe;MAAA;MACAvB;QACAmB;QACAC;QACAL;UACAlB;UACA;YACA;cACA;cACA;cACA;cACA;gBACAU;cACA;gBACAV;gBACA;kBACA;kBACAyB;oBACA;sBAAA,OACAE,QACAC;oBAAA;oBACA;oBACA;sBACA;oBACA;sBACA;sBACA,sCACA,OACApC;oBACA;kBACA;kBACAQ;kBACA;kBACA;kBACA;gBACA;kBACA;kBACAG;oBACAQ;kBACA;gBACA;cACA;YACA;UACA;YACA;YACAR;cACAQ;YACA;UACA;QACA;MACA;IAEA;IACA;IACAkB;MAAA;MACA;QACAzC;MACA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;IAEA;IACA0C;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/WA;AAAA;AAAA;AAAA;AAA0xC,CAAgB,gtCAAG,EAAC,C;;;;;;;;;;;ACA9yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/details/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/details/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=54d3589c&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=54d3589c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54d3589c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/details/index.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=54d3589c&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uMask: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-mask/u-mask\" */ \"@/uview-ui/components/u-mask/u-mask.vue\"\n      )\n    },\n    uLoading: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loading/u-loading\" */ \"@/uview-ui/components/u-loading/u-loading.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.is_modal = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"main-img\">\r\n\t\t<view class=\"video-train\">\r\n\t\t\t<video :src=\"mainList.linkfile\" autoplay=\"true\" loop=\"true\" object-fit=\"cover\" id=\"player\"\r\n\t\t\t\t:show-mute-btn=\"false\" :show-loading=\"false\" :show-center-play-btn=\"false\" :show-play-btn=\"false\"\r\n\t\t\t\t:show-fullscreen-btn=\"false\" :controls=\"false\" v-if=\"resultList == ''\"></video>\r\n\t\t\t\t<video :src=\"resultList\" autoplay=\"true\" loop=\"true\" object-fit=\"cover\" id=\"player\"\r\n\t\t\t\t\t:show-mute-btn=\"false\" :show-loading=\"false\" :show-center-play-btn=\"false\" :show-play-btn=\"false\"\r\n\t\t\t\t\t:show-fullscreen-btn=\"false\" :controls=\"false\" v-else></video>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"collect\">\r\n\t\t\t<u-icon name=\"heart\" size=\"45\" color=\"#fff\" @click=\"collectModal\" v-if=\"colModel == 0\"></u-icon>\r\n\t\t\t<u-icon name=\"heart-fill\" size=\"45\" color=\"#fa3534\" @click=\"collectModal\" v-else></u-icon>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"inner\">\r\n\t\t\t<view class=\"tab\" v-if=\"photoList.length > 1 && resultList == ''\">\r\n\t\t\t\t<view class=\"tab-inner\">\r\n\t\t\t\t\t<scroll-view class=\"navscroll\" scroll-x=\"true\">\r\n\t\t\t\t\t\t<view class=\"nav-inner-box\" v-for=\"(item,ind) in photoList\" :key=\"ind\"\r\n\t\t\t\t\t\t\t@click=\"chooseBanner(item,ind)\">\r\n\t\t\t\t\t\t\t<image class=\"nav-img\" :src=\"item\" :class=\"{boxActive:boxActive == ind}\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btn\" @click=\"produck\" v-if=\"resultList == ''\">立即制作</view>\r\n\t\t\t<view class=\"btn\" @click=\"saveVideo\" v-else>保存视频</view>\r\n\t\t</view>\r\n\t\t<u-mask :show=\"is_modal\">\r\n\t\t\t<view class=\"modal-box\">\r\n\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t<image src=\"../../static/index-img/14.png\" class=\"dele\" @click=\"is_modal = false\"></image>\r\n\t\t\t\t\t<h5 class=\"title\">上传视频或图片素材</h5>\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li v-for=\"item in content\" :key=\"item.content\" style=\"font-size: 28rpx;color: #213B52;\">\r\n\t\t\t\t\t\t\t\t{{item.txt}}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btn-choose\">\r\n\t\t\t\t\t\t<view class=\"sele-btn\" @click=\"shoot\">去拍摄</view>\r\n\t\t\t\t\t\t<view class=\"sele-btn btn-pri\" @click=\"selectPhoto\">相册选择</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bottom\">\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-mask>\r\n\t\t<view class=\"loading\" v-show=\"productShow\">\n\t\t<u-loading mode=\"circle\" size=\"60\" color=\"#55ff00\" id=\"load\"></u-loading>\r\n\t\t<h5 class=\"loadTxt\" v-if=\"txtChange == 1\">视频生成中,请稍等</h5>\r\n\t\t<h5 class=\"loadTxt\" v-else>视频保存中,请稍等</h5>\n\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tcollectFace,\r\n\t\tlikeStatusGet,\r\n\t\tcreateFaceTask,\r\n\t\timageAtion,\r\n\t\tresultFace\r\n\t} from '../../api.js';\r\n\timport {\r\n\t\tdecryptedFun\r\n\t} from 'utils/aes.js';\r\n\timport {\r\n\t\tpathToBase64,\r\n\t\tbase64ToPath\r\n\t} from 'image-tools'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tis_material: true,\r\n\t\t\t\tis_modal: false,\r\n\t\t\t\tcontent: [{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\ttxt: '1、素材中有且只有单个人脸'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\ttxt: '2、素材不能与政治人物相关'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\ttxt: '3、素材不能与色情、暴力相关'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tcolModel: 0, //是否收藏了的\r\n\t\t\t\tmainList: {}, //接收的数据列表\r\n\t\t\t\tphotoList: [\r\n\t\t\t\t\t\"../../static/index-img/12.png\"\r\n\t\t\t\t], //相册列表\r\n\t\t\t\tboxActive: 1, //选中模板高亮控制字段\r\n\t\t\t\tinfoListMes: {}, //用户信息列表\r\n\t\t\t\tphotoMes: \"\", //点击的素材模板\r\n\t\t\t\t// timer: null,\r\n\t\t\t\tresultList:\"\", //制作结果\r\n\t\t\t\ttxtChange:1, //文字切换字段\r\n\t\t\t\tproductShow:false, //加载中模糊窗\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\t// this.mainList = options.data\r\n\t\t\tif (options !== null) {\r\n\t\t\t\tthis.mainList = JSON.parse(decodeURIComponent(options.data))\r\n\t\t\t\tconsole.log(this.mainList, '8899')\r\n\t\t\t}\r\n\t\t\t if(uni.getStorageSync('material') !== ''){\r\n\t\t\t\tlet lists = uni.getStorageSync('material') //获取素材情况\r\n\t\t\t\tconsole.log(lists, 'kdsasa')\r\n\t\t\t\tlists.forEach(val => {\r\n\t\t\t\t\tthis.photoList.push(val)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t if(uni.getStorageSync('info') !== ''){\r\n\t\t\t\tthis.infoListMes = uni.getStorageSync('info')\r\n\t\t\t}\r\n\t\t\tconsole.log(this.infoListMes)\r\n\t\t\tthis.getStatus()\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tlet nenwList = this.photoList.shift()\r\n\t\t\tuni.setStorageSync('material', this.photoList) //存储素材数据\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//点击制作\r\n\t\t\tproduck() {\r\n\t\t\t\tif (this.photoList.length == 1) {\r\n\t\t\t\t\t//没有素材,直接拉起弹窗\r\n\t\t\t\t\tthis.is_modal = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//有素材,且是会员的状态\r\n\t\t\t\t\tif (this.infoListMes.is_vip !== 0) {\r\n\t\t\t\t\t\t//选择好素材之后,直接提交\r\n\t\t\t\t\t\t//默认赋值\r\n\t\t\t\t\t\tif(this.photoMes == ''){\r\n\t\t\t\t\t\t\tpathToBase64(this.photoList[1]).then(base64=>{\r\n\t\t\t\t\t\t\t\tlet base = \"\"\r\n\t\t\t\t\t\t\t    let newBase = base.concat(base64).replace('data:image/png;base64,', '')\r\n\t\t\t\t\t\t\t\tconsole.log(newBase)\r\n\t\t\t\t\t\t\t\tthis.photoMes = newBase\r\n\t\t\t\t\t\t\t\tthis.getCreateFaceTask()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.getCreateFaceTask()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(this.photoMes, 'jsadkdasjf')\r\n\t\t\t\t\t\t//没有直接跳转会员中心(并保存数据)\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/vip/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//开始制作\r\n\t\t\tgetCreateFaceTask() {\r\n\t\t\t\tthis.productShow = true\r\n\t\t\t\tcreateFaceTask({\r\n\t\t\t\t\tProjectId: this.mainList.ProjectId,\r\n\t\t\t\t\tModelId: this.mainList.ModelId,\r\n\t\t\t\t\timage: this.photoMes\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log(decryptedFun(res))\r\n\t\t\t\t\tlet result = decryptedFun(res)\r\n\t\t\t\t\tif (result.status !== 1) {\r\n\t\t\t\t\t\tthis.productShow = false\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: result.msg\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresultFace({\r\n\t\t\t\t\t\t\t\tJobId: result.result.JobId\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tlet attitube = decryptedFun(res)\r\n                               if (attitube.status == 0) {\r\n\t\t\t\t\t\t\t\t\tthis.timer = setInterval(() => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n                                              this.getResult(result)\r\n\t\t\t\t\t\t\t\t\t\t}, 0)\r\n\t\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.productShow = false\r\n\t\t\t\t\t\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: attitube.msg\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//轮询获取结果\r\n\t\t\tgetResult(result){\r\n\t\t\t\tresultFace({\r\n\t\t\t\t\tJobId: result.result.JobId\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(decryptedFun(res))\r\n\t\t\t\t\tif(decryptedFun(res).status == 1){\r\n\t\t\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\t\t\tthis.productShow = false\r\n\t\t\t\t\t\tthis.resultList = decryptedFun(res).result.url\r\n\t\t\t\t\t\tconsole.log(this.resultList)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//进入页面获取收藏状态\r\n\t\t\tgetStatus() {\r\n\t\t\t\tlikeStatusGet({\r\n\t\t\t\t\tid: this.mainList.id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.colModel = decryptedFun(res).result.likeStatus\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//保存视频\r\n\t\t\tsaveVideo(){\r\n\t\t\t\tthis.txtChange = 2\r\n\t\t\t\tthis.productShow = true\r\n\t\t\t\t\r\n\t\t\t\tuni.downloadFile({\r\n\t\t\t\t\turl:this.resultList,\r\n\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\tif(res.statusCode === 200){\r\n\t\t\t\t\t\t\tuni.saveVideoToPhotosAlbum({\r\n\t\t\t\t\t\t\t\tfilePath:res.tempFilePath,\r\n\t\t\t\t\t\t\t\tsuccess:result=>{\r\n\t\t\t\t\t\t\t\t\tthis.productShow = false\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:'保存成功,请前往相册查看'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail:error=>{\r\n\t\t\t\t\t\t\t\t\tthis.productShow = false\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:\"保存失败请稍后再试\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//去拍摄\r\n\t\t\tshoot() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsourceType: ['camera'],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.tempFiles[0].size < 5000000) {\r\n\t\t\t\t\t\t\tpathToBase64(res.tempFilePaths[0]).then(base64 => {\r\n\t\t\t\t\t\t\t\tlet base = \"\"\r\n\t\t\t\t\t\t\t\tlet newBase = base.concat(base64).replace('data:image/png;base64,', '')\r\n\t\t\t\t\t\t\t\timageAtion({\r\n\t\t\t\t\t\t\t\t\tImage: newBase\r\n\t\t\t\t\t\t\t\t}).then(result => {\r\n\t\t\t\t\t\t\t\t\tif (decryptedFun(result).result.check == 1) {\r\n\t\t\t\t\t\t\t\t\t\tthis.is_modal = false\r\n\t\t\t\t\t\t\t\t\t\tres.tempFilePaths.forEach(val => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.photoList.push(val)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.is_modal = false\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"图片审核未通过,请重新上传\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.is_modal = false\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"图片不能超过5M\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//相册选择\r\n\t\t\tselectPhoto() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsourceType: ['album'],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.tempFiles[0].size < 5000000) {\r\n\t\t\t\t\t\t\tpathToBase64(res.tempFilePaths[0]).then(base64 => {\r\n\t\t\t\t\t\t\t\tlet base = \"\"\r\n\t\t\t\t\t\t\t\tlet newBase = base.concat(base64).replace('data:image/png;base64,', '')\r\n\t\t\t\t\t\t\t\t// base = base64\r\n\t\t\t\t\t\t\t\timageAtion({\r\n\t\t\t\t\t\t\t\t\timage: newBase\r\n\t\t\t\t\t\t\t\t}).then(result => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(decryptedFun(result))\r\n\t\t\t\t\t\t\t\t\tif (decryptedFun(result).result.check == 1) {\r\n\t\t\t\t\t\t\t\t\t\tthis.is_modal = false\r\n\t\t\t\t\t\t\t\t\t\tres.tempFilePaths.forEach(val => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet obj = this.photoList.find(item =>\r\n\t\t\t\t\t\t\t\t\t\t\t\titem ==\r\n\t\t\t\t\t\t\t\t\t\t\t\tval)\r\n\t\t\t\t\t\t\t\t\t\t\t//==undefined没有相同的,!==undefined有相同的,将相同的提取到第一个,并把后面相同的进行删除\r\n\t\t\t\t\t\t\t\t\t\t\tif (obj == undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.photoList.push(val)\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.photoList.splice(1, 0, val)\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.photoList = Array.from(new Set(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.photoList))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(this.photoList, 'kdsal')\r\n\t\t\t\t\t\t\t\t\t\t// if (this.photoList.length == 1) {\r\n\t\t\t\t\t\t\t\t\t\t// \tthis.photoMes = val //默认赋值,以免为空\r\n\t\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.is_modal = false\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"图片审核未通过,请重新上传\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.is_modal = false\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"图片不能超过5M\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//收藏按钮\r\n\t\t\tcollectModal(ind) {\r\n\t\t\t\tcollectFace({\r\n\t\t\t\t\tid: this.mainList.id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet result = decryptedFun(res)\r\n\t\t\t\t\tif (result.msg == 'success' && this.colModel == 0) {\r\n\t\t\t\t\t\tthis.colModel = 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.colModel = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tchooseBanner(item, ind) {\r\n\t\t\t\t//转换base64格式\r\n\t\t\t\tpathToBase64(item).then(base64 => {\r\n\t\t\t\t\tlet base = \"\"\r\n\t\t\t\t\tlet newBase = base.concat(base64).replace('data:image/png;base64,', '')\r\n\t\t\t\t\tthis.photoMes = newBase\r\n\t\t\t\t})\r\n\t\t\t\tif (ind == 0) {\r\n\t\t\t\t\tthis.is_modal = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boxActive = ind\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.main-img {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n        .loading{\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\ttop: 0;\r\n\t\t\tbackground: rgba(0, 0, 0, .7);\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100vh;\r\n\t\t\t#load{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t}\r\n\t\t\t.loadTxt{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 38%;\r\n\t\t\t\ttop: 55%;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.video-train {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\ttop: 0;\r\n\r\n\t\t\t#player {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.collect {\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 50rpx;\r\n\t\t\ttop: 50rpx;\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t}\r\n\r\n\t\t.inner {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 88rpx;\r\n\t\t\tleft: 32rpx;\r\n\t\t\twidth: 686rpx;\r\n\t\t\theight: 336rpx;\r\n\r\n\t\t\t.tab {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 158rpx;\r\n\t\t\t\tbackground: rgba(37, 45, 67, 0.5);\r\n\t\t\t\tmargin-bottom: 40rpx;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\r\n\t\t\t\t.tab-inner {\r\n\t\t\t\t\tpadding-top: 40rpx;\r\n\t\t\t\t\tmargin-left: 20rpx;\r\n\r\n\t\t\t\t\t.navscroll {\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 128rpx;\r\n\r\n\t\t\t\t\t\t.boxActive {\r\n\t\t\t\t\t\t\tpadding: 4rpx;\r\n\t\t\t\t\t\t\tborder: 2rpx solid #A9DDD8;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.nav-inner-box {\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\twidth: 88rpx;\r\n\t\t\t\t\t\t\theight: 88rpx;\r\n\t\t\t\t\t\t\tborder-radius: 88rpx;\r\n\t\t\t\t\t\t\tmargin-right: 40rpx;\r\n\r\n\t\t\t\t\t\t\t.nav-img {\r\n\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\twidth: 88rpx;\r\n\t\t\t\t\t\t\t\theight: 88rpx;\r\n\t\t\t\t\t\t\t\tmargin-right: 40rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 88rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 88rpx;\r\n\t\t\twidth: 686rpx;\r\n\t\t\theight: 88rpx;\r\n\t\t\tbackground: #A9DDDB;\r\n\t\t\tborder-radius: 32rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 88rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #213B52;\r\n\t\t}\r\n\r\n\t\t.modal-box {\r\n\t\t\twidth: 650rpx;\r\n\t\t\theight: 536rpx;\r\n\t\t\tborder-radius: 32rpx;\r\n\t\t\tmargin: 400rpx auto;\r\n\t\t\tbackground: #fff;\r\n\r\n\t\t\t.top {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 468rpx;\r\n\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\tbackground-size: 100% 100%;\r\n\r\n\t\t\t\t.dele {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 20rpx;\r\n\t\t\t\t\ttop: 20rpx;\r\n\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tpadding-top: 60rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.content {\r\n\t\t\t\t\twidth: 390rpx;\r\n\t\t\t\t\theight: 160rpx;\r\n\t\t\t\t\tmargin: 60rpx auto 80rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.btn-choose {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\twidth: 502rpx;\r\n\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\tmargin: 0 auto;\r\n\r\n\t\t\t\t\t// background: #A9DDDB;\r\n\t\t\t\t\t.sele-btn {\r\n\t\t\t\t\t\twidth: 234rpx;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tbackground: rgba(33, 59, 82, 0.1);\r\n\t\t\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\t\t\tline-height: 80rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tcolor: #213B52;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.btn-pri {\r\n\t\t\t\t\t\tbackground: #A9DDD8;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=54d3589c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=54d3589c&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678246658352\n      var cssReload = require(\"C:/Users/安杰/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}